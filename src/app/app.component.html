<div class="container">
  <form>
    <div>
      <label for="id">Id</label>
      <input type="text" disabled [ngModel]="id" name="id" id="id" />
    </div>

    <div>
      <label for="titulo">Título</label>
      <input type="text" [(ngModel)]="titulo" name="titulo" id="titulo" />
    </div>

    <div>
      <label for="autor">Autor</label>
      <input type="text" [(ngModel)]="autor" name="autor" id="autor" />
    </div>

    <div>
      <label for="ano_publicacao">Ano de Publicação</label>
      <input
        type="text"
        [(ngModel)]="ano_publicacao"
        name="ano_publicacao"
        id="ano_publicacao"
      />
    </div>
    <button type="button" (click)="cadastrarNovoLivro()">
      {{ id ? "Salvar" : "Adicionar" }}
    </button>
  </form>

  <table class="mat-elevation-z8">
    <thead>
      <tr>
        <th>Id</th>
        <th>Título</th>
        <th>Autor</th>
        <th>Ano Publicação</th>
        <th>Disponibilidade</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let livro of livros$ | async">
        <td>{{ livro.id }}</td>
        <td>{{ livro.titulo }}</td>
        <td>{{ livro.autor }}</td>
        <td>{{ livro.ano_publicacao }}</td>
        <td>{{ livro.ativo }}</td>
        <td>
          <button type="button" (click)="preencherCampos(livro)">Editar</button>
          <button type="button" (click)="Inativar(livro.id!, livro)">
            {{ livro.ativo ? "Inativar" : "Ativar" }}
          </button>
          <a [routerLink]="[livro.id, 'reservas']">Reservas</a>
          <a [routerLink]="[livro.id, 'Exemplares']">Exemplares</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<router-outlet></router-outlet>
